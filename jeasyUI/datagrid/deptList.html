<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>부서목록- easyUI : DataGrid (javascript)</title>
  <script src="/JS/jquery.min.js"></script>
  <script src="/JS/jquery.easyui.min.js"S></script>
  <link rel="stylesheet" href="/themes/default/easyui.css">
  <link rel="stylesheet" href="/themes/icon.css">
</head>
<body>
  <table id="dg-dept"></table>
  <div id="td-dept">
    <a href="#" class="easyui-linkbutton" iconCls="icon-search" id="on">Search</a>
    <a href="#" class="easyui-linkbutton" iconCls="icon-cut" id="off">Delete</a>
  </div>
  <script>

    $('#dg-dept').datagrid({
      title : '부서관리 시스템',
      method:'get',
      toolbar : '#tb-dept',
      columns:[[
        {field : 'deptno', title:'부서번호', width:100},
        {field : 'dname', title:'부서명', width:100},
        {field : 'loc', title:'지역', width:100}
      ]]
    });

    const search = document.querySelector('#on');
    const deletee = document.querySelector('#off');

    search.addEventListener("click", () => {
      $('#dg-dept').datagrid({
        url : './dept.json',
      });
    });

    deletee.addEventListener("click", () => {
      $('#dg-dept').datagrid({
        url : './reset.json'
      });
    })

  </script>
</body>
</html>